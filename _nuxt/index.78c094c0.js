import{a as j,o as i,b as d,F as b,r as x,e as t,t as v,f as h,u as _,p as O,h as M,i as C,j as A,k,l as f,m as F,q as L,w as z,v as E,s as U,x as R,c as G}from"./entry.887742d5.js";function P(){function e(n){var o;return n&&`${(n==null?void 0:n.root)||""}${((o=n==null?void 0:n.suffixes)==null?void 0:o[0])||""}`||"N/A"}function u(n){var o;for(const s in n)return(o=n[s])==null?void 0:o.official;return"N/A"}function r(n){return Object.keys(n).map(o=>({key:o,value:Array.isArray(n[o])?n[o].join(", "):n[o]}))}return{getCallingCode:e,getTheNativeName:u,getItemObject:r}}const H=e=>(O("data-v-984022e2"),e=e(),M(),e),J=H(()=>t("br",null,null,-1)),K={class:"title"},Q={key:0},W={key:1},X=["src"],Y={key:1},Z={__name:"ListObjectText",props:{item:{type:Object,required:!0}},setup(e){const{getItemObject:u}=P();return(r,n)=>{const o=V;return i(),d(b,null,[J,(i(!0),d(b,null,x(_(u)(e.item),s=>(i(),d("div",{key:s.key,class:"flex ml-4"},[t("span",K,v(s.key)+" :",1),typeof s.value=="object"?(i(),d("div",Q,[h(o,{item:s.value},null,8,["item"])])):(i(),d("div",W,[s.key==="png"||s.key==="svg"?(i(),d("img",{key:0,src:s.value,class:"w-10"},null,8,X)):(i(),d("div",Y,v(s.value),1))]))]))),128))],64)}}},V=j(Z,[["__scopeId","data-v-984022e2"]]);const ee=e=>(O("data-v-990b6dd2"),e=e(),M(),e),te={class:"flex"},se={class:"title"},ne={key:0},oe={key:1},ae=ee(()=>t("div",{class:"border-b border-slate-400 w-full"},null,-1)),le={__name:"Modal",props:{country:{type:Object,required:!0}},setup(e){const{getItemObject:u}=P();return(r,n)=>{const o=V;return i(!0),d(b,null,x(_(u)(e.country),s=>(i(),d("div",{key:s.key},[t("div",te,[t("span",se,v(s.key)+" :",1),typeof s.value=="object"?(i(),d("div",ne,[h(o,{item:s.value},null,8,["item"])])):(i(),d("div",oe,v(s.value),1))]),ae]))),128)}}},ce=j(le,[["__scopeId","data-v-990b6dd2"]]),ie=["src"],ue={class:"grid grid-cols-6 pl-4 gap-5 w-full"},re=t("span",{class:"text-slate-500"},"Code 2:",-1),de=t("span",{class:"text-slate-500"},"Code 3:",-1),ve={class:"col-span-2"},_e={__name:"CountryItem",props:{country:{type:Object,required:!0}},emits:["open-modal"],setup(e,{emit:u}){const{getCallingCode:r,getTheNativeName:n}=P();return(o,s)=>{var c,g,p;return i(),d("div",null,[t("img",{src:e.country.flags.png,class:"min-w-[7rem] min-h-[4rem] max-w-[7rem] max-h-[4rem] object-cover rounded-md"},null,8,ie),t("div",ue,[t("h1",{class:"text-md font-semibold cursor-pointer",onClick:s[0]||(s[0]=N=>u("open-modal",e.country))},v(e.country.name.official),1),t("div",null,[t("p",null,[re,C(" "+v(e.country.cca2),1)]),t("p",null,[de,C(" "+v(e.country.cca3),1)])]),t("p",null,v(_(r)(e.country.idd)),1),t("div",null,v(_(n)((c=e.country.name)==null?void 0:c.nativeName)||"N/A"),1),t("p",ve,v((p=(g=e.country)==null?void 0:g.altSpellings)==null?void 0:p.join(", ")),1)])])}}};const ge={class:"flex justify-center items-center gap-1 fixed bottom-0 bg-slate-200 w-full p-4"},fe=["disabled"],pe=["disabled"],me=["onClick"],ye=["disabled"],be=["disabled"],he={__name:"Pagination",props:{page:{type:Number,required:!0},lastPage:{type:Number,required:!0},gotoPage:{type:Function,required:!0}},emits:["update:page"],setup(e,{emit:u}){const r=e,n=A(()=>{let o=r.page-2>0?r.page-2:1,s=r.page+2<=r.lastPage?r.page+2:r.lastPage;const c=[];s-o<4&&(o===1?s=Math.min(5,r.lastPage):o=Math.max(1,r.lastPage-4));for(let g=o;g<=s;g++)c.push(g);return c});return(o,s)=>(i(),d("div",ge,[t("button",{class:"page-button",onClick:s[0]||(s[0]=c=>e.gotoPage(1)),disabled:e.page===1},v("<<"),8,fe),t("button",{class:"page-button",onClick:s[1]||(s[1]=c=>e.gotoPage(e.page-1)),disabled:e.page===1},v("<"),8,pe),(i(!0),d(b,null,x(_(n),c=>(i(),d("button",{key:c,class:k(e.page===c?"active-page-button":"page-button"),onClick:g=>e.gotoPage(c)},v(c),11,me))),128)),t("button",{class:"page-button",onClick:s[2]||(s[2]=c=>e.gotoPage(e.page+1)),disabled:e.page===e.lastPage},v(">"),8,ye),t("button",{class:"page-button",onClick:s[3]||(s[3]=c=>e.gotoPage(e.lastPage)),disabled:e.page===e.lastPage},v(">>"),8,be)]))}},xe=j(he,[["__scopeId","data-v-ddc00165"]]),$e={key:0},we=t("div",{class:"fixed top-0 left-0 z-10 bg-gray-500 opacity-70 w-full h-screen"},null,-1),Ce={class:"fixed top-0 left-0 z-20 m-20 bg-slate-50 rounded-md p-10 w-[80%] h-[80%] flex flex-col items-end"},ke={class:"max-h-[90%] w-full overflow-y-auto"},je={class:"fixed top-0 left-0 right-0 bg-slate-200 h-20"},Pe={class:"flex justify-between items-center h-full p-5"},Ne={class:"flex justify-center"},Ie={class:"text-4xl"},Se=t("span",{class:"text-slate-400"}," Total: ",-1),Oe={class:"font-bold"},Me={class:"flex justify-end"},Ae={class:"flex justify-center items-center"},Ve={class:"mt-36 mb-16 p-4"},qe=R('<div class="flex justify-center items-center px-5 fixed left-0 top-20 w-full bg-slate-500 text-white"><div class="w-[7rem] h-[4rem]"></div><div class="grid grid-cols-6 pl-6 gap-5 w-full"><div class="flex"><h1 class="text-md font-semibold">Country</h1></div><div>Code</div><div>Calling code</div><div>Native Name</div><p class="col-span-2">Alternative</p></div></div>',1),Be={class:"space-y-2"},Te="https://restcountries.com/v3.1",Fe={__name:"index",setup(e){const u=f([]),r=f([]),n=f(1),o=f(1),s=f(25),c=f(""),g=f(""),p=f(null),N=A(()=>{var a;return(a=u.value)==null?void 0:a.length});async function $(a){try{return await $fetch(`${Te}${a}`)}catch(l){console.error(l)}}F(async()=>{u.value=await $("/all"),S()});function q(a){p.value=a}function I(a){if(a<1||a>o.value)return;n.value=a;const l=(n.value-1)*s.value,m=l+s.value;r.value=u.value.slice(l,m)}function w(a){a&&(a==="asc"?u.value.sort((l,m)=>l.name.official.localeCompare(m.name.official)):u.value.sort((l,m)=>m.name.official.localeCompare(l.name.official)),c.value=a,I(1))}async function B(){const a=g.value.toLowerCase().trim();a?u.value=await $(`/name/${a}`):u.value=await $("/all"),S(),w(c.value)}function S(){var a,l;n.value=1,r.value=(a=u.value)==null?void 0:a.slice(0,s.value),o.value=Math.ceil(((l=u.value)==null?void 0:l.length)/s.value)}return(a,l)=>{const m=ce,T=_e,D=xe;return i(),d(b,null,[_(p)?(i(),d("div",$e,[we,t("div",Ce,[t("div",ke,[h(m,{country:_(p)},null,8,["country"])]),t("button",{class:"bottom-0 right-0 p-2 rounded-md bg-slate-500 text-white",onClick:l[0]||(l[0]=y=>p.value=null)}," Close ")])])):L("",!0),t("div",je,[t("div",Pe,[t("div",Ne,[z(t("input",{"onUpdate:modelValue":l[1]||(l[1]=y=>U(g)?g.value=y:null),type:"text",class:"border-2 border-gray-300 p-2 rounded-md w-72",placeholder:"Search",onInput:B},null,544),[[E,_(g)]])]),t("div",Ie,[Se,t("span",Oe,v(_(N)),1)]),t("div",null,[C(" Sort country name by: "),t("div",Me,[t("div",Ae,[t("button",{class:k(["border-2 border-gray-300 p-1 rounded-md w-20",{"bg-blue-500 text-white":_(c)==="asc"}]),onClick:l[2]||(l[2]=y=>w("asc"))}," ASC ",2),t("button",{class:k(["border-2 border-gray-300 p-1 rounded-md w-20",{"bg-blue-500 text-white":_(c)==="desc"}]),onClick:l[3]||(l[3]=y=>w("desc"))}," DESC ",2)])])])])]),t("div",Ve,[qe,t("div",Be,[(i(!0),d(b,null,x(_(r),y=>(i(),G(T,{key:y.name.official,country:y,class:"flex items-start p-2 bg-white border-2 rounded-md hover:bg-gray-200 transition duration-300 ease-in-out",onOpenModal:q},null,8,["country"]))),128))])]),h(D,{page:_(n),"last-page":_(o),"goto-page":I},null,8,["page","last-page"])],64)}}};export{Fe as default};
